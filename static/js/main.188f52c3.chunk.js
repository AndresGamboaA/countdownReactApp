(this.webpackJsonptimeleft=this.webpackJsonptimeleft||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABI0lEQVRIid2VPU7EQAyF34zwFdLRUwS5mRMQcQPOgJScgA5aLpC9xJ4AabnAurHYgn67XMHSLM0gdlF+NyAFnpRixvb74jiZAH9dbkzSdrt9cs49ftt+DiE8TAaIyGHkzbUqhHDi6eeYnS0ROUzppC//1ztYBkBESlXNPteqmolI+SMAEakA1Ga2UdVMVTMz2wCoU6xXF0MJRLQ2sxJAnowBIAewI6L1UP1gB8zceO9vALwl4xzAe4zxlpmb2YDOQu9HnQKDAFXNYoyvAK4B7NJ1BeDlePBnA8zsDl/PvCCiIkHyFJsHCCHUACoiKpi5YeYmQaoU69XgW5Qgq+N1Gu6qI/1Ey/iSFw3omsEewOXEn8++bbO1A+fcfVdBl3mq+Yf6AIVvbVr+BDiHAAAAAElFTkSuQmCC"},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(7),l=n.n(i),o=(n(14),n(1)),r=n(2),c=n(5),m=n(4),v=n(3),u=(n(15),n(8)),p=(n(16),function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={name:"",date:"",time:""},e.handleChange=e.handleChange.bind(Object(c.a)(e)),e}return Object(r.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(u.a)({},e.target.name,e.target.value))}},{key:"fullDate",value:function(e,t){return"".concat(e,"T").concat(t,":00-06:00")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"add-event-popup".concat(this.props.visible?" active":"")},s.a.createElement("div",{className:"glass"}),s.a.createElement("div",{className:"container".concat(this.props.visible?" container-active":"")},s.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},s.a.createElement("label",null,"Event Name"),s.a.createElement("input",{id:"event-name",name:"name",type:"text",maxLength:"30",onChange:this.handleChange,value:this.state.name}),s.a.createElement("label",null,"Date"),s.a.createElement("input",{id:"date",name:"date",type:"date",onChange:this.handleChange,value:this.state.date}),s.a.createElement("label",null,"Time"),s.a.createElement("input",{id:"time",name:"time",type:"time",onChange:this.handleChange,value:this.state.time}),s.a.createElement("hr",null),s.a.createElement("div",{id:"buttons"},s.a.createElement("button",{id:"add",onClick:function(t){e.props.onSubmit(e.state.name,e.state.date,e.state.time),e.setState({name:"",date:"",time:""})}},"Add"),s.a.createElement("button",{id:"cancel",onClick:this.props.onClose},"Cancel")))))}}]),n}(a.Component));n(17);function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"object",n=Math.floor(e/1e3%60),a=Math.floor(e/6e4%60),s=Math.floor(e/36e5%24),i=Math.floor(e/864e5);return"string"===t?"".concat(0===i?"":i+"d:").concat(0===s?"":s+"h:").concat(a+"m"):{days:i,hours:s,minutes:a,seconds:n}}var h=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(e){var n;Object(o.a)(this,a),n=t.call(this,e);var s=new Date,i=n.props.event.date.getTime()-s.getTime();return i=d(i,"string"),n.state={isMouseOver:!1,timeleft:i},n.onMouseOver=n.onMouseOver.bind(Object(c.a)(n)),n}return Object(r.a)(a,[{key:"onMouseOver",value:function(){var e=Object.assign({},this.state);e.isMouseOver=!0,this.setState(e)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"event-item",onMouseOver:this.onMouseOver},s.a.createElement("p",{className:"event-name tooltip"},this.props.event.name),s.a.createElement("div",{className:"time tooltip"},""!==this.props.event.timeleft?this.props.event.timeleft:this.state.timeleft,s.a.createElement("span",{className:"tooltiptext"},this.props.event.date.toUTCString()+this.props.event.date.getHours())),s.a.createElement("button",{onClick:function(){return e.props.handleDeleteEvent(e.props.event.key)}},s.a.createElement("img",{alt:"trash",src:n(18)})))}}]),a}(a.Component),E=(n(19),function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.events.map((function(t){return s.a.createElement(h,{key:t.key,event:t,handleDeleteEvent:e.props.handleDeleteEvent})}));return s.a.createElement("div",{className:"events-list"},t)}}]),n}(a.Component)),f=(n(20),function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"next-event"},s.a.createElement("p",{id:"p1"},"Next event"),s.a.createElement("p",{id:"p2"},this.props.name),s.a.createElement("p",{id:"p3"},"Start in"),s.a.createElement("div",{className:"time-container"},s.a.createElement("div",{style:{display:this.props.event.days>0?"block":"none"}},s.a.createElement("p",null,this.props.event.days),s.a.createElement("p",{className:"info"},"Days")),this.props.event.days>0?s.a.createElement("p",{className:"colon"},":"):null,s.a.createElement("div",{style:{display:this.props.event.hours>0?"block":"none"}},s.a.createElement("p",null,this.props.event.hours),s.a.createElement("p",{className:"info"},"Hours")),this.props.event.hours>0?s.a.createElement("p",{className:"colon"},":"):null,s.a.createElement("div",{style:{display:this.props.event.minutes}},s.a.createElement("p",null,this.props.event.minutes),s.a.createElement("p",{className:"info"},"Minutes")),this.props.event.minutes>0?s.a.createElement("p",{className:"colon"},":"):null,s.a.createElement("div",null,s.a.createElement("p",null,this.props.event.seconds),s.a.createElement("p",{className:"info"},"Seconds"))))}}]),n}(a.Component)),g=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(o.a)(this,n),e=t.call(this);var a=[];if(localStorage.getItem("events")){(a=JSON.parse(localStorage.getItem("events"))).map((function(e){return e.date=new Date(e.date),e}));for(var s,i=new Date;s<a.length;s++)a[s].date.getTime()<=i.getTime()&&a.splice(s,1);localStorage.setItem("events",JSON.stringify(a))}return e.state={events:a,nextEvent:{days:0,hours:0,minutes:0,seconds:0},popupVisible:!1},e.handleClosePopup=e.handleClosePopup.bind(Object(c.a)(e)),e.handleAddEvent=e.handleAddEvent.bind(Object(c.a)(e)),e.handleDeleteEvent=e.handleDeleteEvent.bind(Object(c.a)(e)),e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){if(e.state.events.length>0){var t=Object.assign({},e.state),n=new Date;0===e.state.nextEvent.seconds&&(t.events=e.state.events.map((function(e){var t=e.date.getTime()-n.getTime();return e.timeleft=d(t,"string"),e})));var a=e.state.events[0].date.getTime()-n.getTime();a<0&&(t.events.splice(0,1),localStorage.setItem("events",JSON.stringify(t.events))),t.nextEvent=d(a,"object"),e.setState(t)}}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"handleClosePopup",value:function(){var e=Object.assign({},this.state);e.popupVisible=!1,this.setState(e)}},{key:"handleAddEvent",value:function(e,t,n){if(""!==e&&""!==t&&""!==n){var a="".concat(t,"T").concat(n,":00-06:00"),s=new Date(a),i=new Date;if(s.getTime()<i.getTime())window.alert("Not a valid date");else{var l={key:e+s.toString(),name:e,date:s,timeleft:""},o=Object.assign({},this.state);o.events.push(l),o.events=o.events.sort((function(e,t){var n=0;return e.date.getTime()>t.date.getTime()?n=1:e.date.getTime()<t.date.getTime()&&(n=-1),n})),o.popupVisible=!1,this.setState(o),localStorage.setItem("events",JSON.stringify(o.events))}}}},{key:"handleDeleteEvent",value:function(e){var t=Object.assign({},this.state);t.events.forEach((function(n){n.key===e&&t.events.splice(t.events.indexOf(n),1)})),this.setState(t),localStorage.setItem("events",JSON.stringify(t.events))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement(p,{visible:this.state.popupVisible,onSubmit:this.handleAddEvent,onClose:this.handleClosePopup}),this.state.events.length>0?s.a.createElement(f,{name:this.state.events[0].name,event:this.state.nextEvent}):s.a.createElement("h1",{style:{color:"white"}},"Add a new event"),s.a.createElement("hr",{className:"hor-line"}),this.state.events.length>0?s.a.createElement("p",null,"Next events"):null,s.a.createElement(E,{events:this.state.events,handleDeleteEvent:this.handleDeleteEvent}),s.a.createElement("button",{id:"add-event",onClick:function(){var t=Object.assign({},e.state);t.popupVisible=!e.state.popupVisible,e.setState(t)}},"+ Add a new event"),s.a.createElement("p",{id:"info-app"},"Developed by: Andr\xe9s Gamboa Alfaro (2020)"))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.188f52c3.chunk.js.map